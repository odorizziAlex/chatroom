{"ast":null,"code":"var _jsxFileName = \"/Users/alexodorizzi/Desktop/Projects/ChatRoom/chatroom/src/contexts/UserContext.js\";\nimport React, { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nexport const UserContext = createContext();\n\nconst UserContextProvider = props => {\n  const [users, setUsers] = useState(); // const [users, setUsers] = useState([\n  //     {\n  //         customId: 0,\n  //         name: \"No one is online...\",\n  //         convIds: []\n  //     },\n  //     {\n  //         customId: 1,\n  //         name: \"User A\",\n  //         convIds: [1,2]\n  //     },\n  //     {\n  //         customId: 2,\n  //         name: \"User B\",\n  //         convIds: [1]\n  //     },\n  //     {\n  //         customId: 3,\n  //         name: \"User C\",\n  //         convIds: [1]\n  //     }\n  // ]);\n\n  useEffect(() => {\n    async function loadUsers() {\n      const response = await axios.get(\"http://localhost:5000/users/\");\n\n      if (response.status !== 200) {\n        console.log(\"Error reloading\");\n      }\n\n      setUsers();\n    }\n\n    loadUsers();\n  }, []);\n\n  const addUserToDB = async newUsr => {\n    await axios.post('http://localhost:5000/users/add', newUsr).then(res => {\n      console.log(res.data);\n    }).catch(err => {\n      console.log(\"error: \" + err);\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"reload\");\n  }, [users]); // async function loadUsers() {\n  //     const response = await axios.get(\"http://localhost:5000/users/\");\n  //     if (response.status !== 200) {\n  //       // Error\n  //     }\n  //     setUsers(response.data);\n  // }\n\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      users,\n      loadUsers,\n      addUserToDB\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default UserContextProvider;","map":{"version":3,"sources":["/Users/alexodorizzi/Desktop/Projects/ChatRoom/chatroom/src/contexts/UserContext.js"],"names":["React","createContext","useEffect","useState","axios","UserContext","UserContextProvider","props","users","setUsers","loadUsers","response","get","status","console","log","addUserToDB","newUsr","post","then","res","data","catch","err","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,QAA1C,QAA0D,OAA1D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,WAAW,GAAGJ,aAAa,EAAjC;;AAEP,MAAMK,mBAAmB,GAAGC,KAAK,IAAI;AAIjC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,EAAlC,CAJiC,CAKjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAeQ,SAAf,GAA2B;AACvB,YAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,8BAAV,CAAvB;;AACA,UAAGD,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACH;;AACDN,MAAAA,QAAQ;AACX;;AACDC,IAAAA,SAAS;AACZ,GATQ,EASP,EATO,CAAT;;AAWA,QAAMM,WAAW,GAAG,MAAOC,MAAP,IAAkB;AAClC,UAAMb,KAAK,CAACc,IAAN,CAAW,iCAAX,EAA8CD,MAA9C,EACLE,IADK,CACAC,GAAG,IAAI;AACTN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,IAAhB;AACH,KAHK,EAILC,KAJK,CAICC,GAAG,IAAI;AACVT,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAUQ,GAAtB;AACH,KANK,CAAN;AAOH,GARD;;AAYArB,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH,GAFQ,EAEP,CAACP,KAAD,CAFO,CAAT,CAnDiC,CAuDjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACA,MAAAA,KAAD;AAAQE,MAAAA,SAAR;AAAmBM,MAAAA;AAAnB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKT,KAAK,CAACiB,QADX,CADJ;AAKH,CApED;;AAsEA,eAAelB,mBAAf","sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\n\nexport const UserContext = createContext();\n\nconst UserContextProvider = props => {\n\n    \n\n    const [users, setUsers] = useState();\n    // const [users, setUsers] = useState([\n    //     {\n    //         customId: 0,\n    //         name: \"No one is online...\",\n    //         convIds: []\n    //     },\n    //     {\n    //         customId: 1,\n    //         name: \"User A\",\n    //         convIds: [1,2]\n    //     },\n    //     {\n    //         customId: 2,\n    //         name: \"User B\",\n    //         convIds: [1]\n    //     },\n    //     {\n    //         customId: 3,\n    //         name: \"User C\",\n    //         convIds: [1]\n    //     }\n    // ]);\n\n    useEffect(() => {\n        async function loadUsers() {\n            const response = await axios.get(\"http://localhost:5000/users/\");\n            if(response.status !== 200){\n                console.log(\"Error reloading\");\n            }\n            setUsers();\n        }\n        loadUsers();\n    },[]);\n\n    const addUserToDB = async (newUsr) => {\n        await axios.post('http://localhost:5000/users/add', newUsr)\n        .then(res => {\n            console.log(res.data)\n        })\n        .catch(err => {\n            console.log(\"error: \"+err);\n        });\n    }\n\n    \n\n    useEffect(() => {   \n        console.log(\"reload\");\n    },[users]);\n\n    // async function loadUsers() {\n    //     const response = await axios.get(\"http://localhost:5000/users/\");\n    //     if (response.status !== 200) {\n    //       // Error\n    //     }\n    //     setUsers(response.data);\n    // }\n    \n    return(\n        <UserContext.Provider value={{users, loadUsers, addUserToDB}}>\n            {props.children}\n        </UserContext.Provider>\n    )\n}\n\nexport default UserContextProvider;"]},"metadata":{},"sourceType":"module"}